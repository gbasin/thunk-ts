<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, viewport-fit=cover" />
    <meta name="theme-color" content="#2d2a26" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <title>PL4N v0.1 - Projects</title>
    <link rel="stylesheet" href="/assets/styles.css?v=6" />
    <link rel="stylesheet" href="/assets/prototype/tui-styles.css" />
    <style>
      html { background: #2d2a26; }
      body { background: #f5f3ef; }
    </style>
  </head>
  <body>
    <div class="tui-page">
      <div class="tui-title-bar">
        <span class="tui-nav">
          <a class="tui-nav-link active" id="nav-projects" href="#">Projects</a>
        </span>
        <span class="session-name" id="tui-session-name">workspace</span>
        <span class="font-controls">
          <button class="font-btn" id="font-down" title="Decrease font size">-</button>
          <span class="font-size" id="font-size">10</span>
          <button class="font-btn" id="font-up" title="Increase font size">+</button>
        </span>
      </div>

      <div class="tui-info-bar">
        <div class="tui-info-item">
          <span class="tui-info-label">PROJECTS</span>
          <span class="tui-info-value" id="info-count">0</span>
        </div>
        <div class="tui-info-item">
          <span class="tui-info-label">UPDATED</span>
          <span class="tui-info-value" id="info-updated">--</span>
        </div>
      </div>

      <div class="tui-panel">
        <span class="tui-panel-header">Projects</span>
        <div class="tui-panel-content">
          <pl4n-projects></pl4n-projects>
        </div>
      </div>

      <div class="tui-status-bar">
        <div class="tui-status-left">
          <span class="tui-status-msg">Select a project</span>
        </div>
        <div class="tui-status-right">
          <span class="tui-status-hint">Projects open their sessions list</span>
        </div>
      </div>
    </div>
    <script>
      window.__PL4N_PROJECTS__ = __PROJECTS_DATA__;
    </script>
    <script>
      let fontSize = 10;
      const minFontSize = 4;
      const maxFontSize = 24;
      function updateFontSize(newSize) {
        fontSize = Math.max(minFontSize, Math.min(maxFontSize, newSize));
        document.documentElement.style.setProperty('--tui-font-size', fontSize + 'px');
        document.documentElement.style.setProperty('--editor-font-size', fontSize + 'px');
        document.getElementById('font-size').textContent = fontSize;
      }
      updateFontSize(fontSize);
      document.getElementById('font-up').addEventListener('click', () => updateFontSize(fontSize + 1));
      document.getElementById('font-down').addEventListener('click', () => updateFontSize(fontSize - 1));
    </script>
    <script type="module" src="/assets/projects.js"></script>
  </body>
</html>
